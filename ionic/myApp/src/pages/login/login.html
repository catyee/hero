<ion-header>

  <ion-navbar>
    <ion-title>登录</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <form [formGroup]="loginForm" (ngSubmit)="login(loginForm.value)" novalidate>
    <ion-item [class.error]="!username.valid && username.touched">
      <ion-label fixed>用户名:</ion-label>
      <ion-input type="text" placeholder="请输入用户名" clearInput="true" formControlName="username"></ion-input>
    </ion-item>
    <div *ngIf="username.hasError('required') && username.touched" class="error-message">*请输入用户名</div>
    <div *ngIf="username.hasError('minLength') && username.hasError('maxLength') && username.hasError('patten') && username.touched" class="error-message">*用户名错误</div>
    <ion-item [class.error]="!password.valid && password.touched">
      <ion-label fixed>密码</ion-label>
      <ion-input type="password" placeholder="请输入密码"  clearInput="true" formControlName="password"></ion-input>
    </ion-item>
    <div *ngIf="password.hasError('required') && password.touched" class="error-message">*请输入密码</div>
    <div *ngIf="password.hasError('minLength') || password.hasError('maxLength') || password.hasError('patten') && password.touched" class="error-message">*密码错误</div>
    <ion-item [class.error]="!password.valid && password.touched">

    <ion-item no-lines>
      <label item-right>记住密码</label>
      <ion-toggle></ion-toggle>
    </ion-item>
    <div style="text-align: center;margin-left: 30px;margin-right: 30px">
      <button ion-button block color="danger" type="submit" [disabled]="!loginForm.valid" (click)="logIn()">
        登录
      </button>
    </div>
      </ion-item>
  </form>

</ion-content>
